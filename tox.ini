# tox (https://tox.readthedocs.io/) is a tool for running tests
# in multiple virtualenvs. This configuration file will run the
# test suite on all supported python versions. To use it, "pip install tox"
# and then run "tox" from this directory.

[tox]
envlist = py38, py39, py310
skip_missing_interpreters=true
isolated_build = True

[tox:.package]
# note tox will use the same python version as under what tox is installed to package
# so unless this is python 3 you can require a given python version for the packaging
# environment via the basepython key
basepython = python3

#[testenv]
#deps =
#    -rrequirements.txt
#    -rrequirements-test.txt
#commands =
#    pytest {posargs}

whitelist_externals = poetry
commands =
    poetry install -v
    poetry run pytest {posargs}

setenv =
    PYENV=none

[testenv:py36]
setenv =
    PYENV=py36

[testenv:py37]
setenv =
    PYENV=py37

[testenv:py38]
setenv =
    PYENV=py38

[testenv:py39]
setenv =
    PYENV=py39
